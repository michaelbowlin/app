<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">



$(document).ready(function(){








var myObject = 
  {
    "row": [
        {
            "ID": 1,
            "TITLE": "headNav",
            "LINK": "#",
            "CHILD_ID": 500,
            "PARENT_ID": ""
        },
        {
            "STATUS": -1,
            "TITLE": "Alabama",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Alaska",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Arizona",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Arkansas",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "California",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Colorado",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Connecticut",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Delaware",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "Florida",
            "LINK": "#",
            "CHILD_ID": 400,
            "PARENT_ID": 500
        },
        {
            "STATUS": -1,
            "TITLE": "South Platte",
            "LINK": "#",
            "CHILD_ID": 300,
            "PARENT_ID": 400
        },
        {
            "STATUS": 0,
            "TITLE": "Upper Platte",
            "LINK": "#",
            "CHILD_ID": 300,
            "PARENT_ID": 400
        },
        {
            "STATUS": 0,
            "TITLE": "Mayfly",
            "LINK": "#",
            "CHILD_ID": 200,
            "PARENT_ID": 300
        }

    ]
}


//==============


/*for(var i=0; i < myObject.row.length; i++){
  item = "<ul>";
  item += "<li>";
  item += "<a>";
  item += myObject.row[i].TITLE;
  item += "</li>";
  item += "</ul>";
  
  $(".menu").append(item);
}*/

var builddata = function () {
    var source = [];
    var items = [];
    // build hierarchical source.
    for (i = 0; i < myObject.row.length; i++) {
        var item = myObject.row[i];
      
        var label = item["TITLE"];
        var parentid = item["PARENT_ID"];
        var id = item["CHILD_ID"];
      
      // console.log(label+parentid+"Node Id"+id+"<br/>");
        if (items[parentid]) {
            var item = { parentid: parentid, label: label, item: item };
         // console.log(item);
            if (!items[parentid].items) {
                items[parentid].items = [];
            }
            items[parentid].items[items[parentid].items.length] = item;
            items[id] = item;
        }
        else {
            items[id] = { parentid: parentid, label: label, item: item };
            source[id] = items[id];
        }
    }
    return source;
}
var source = builddata();

var buildUL = function (parent, items) {
    $.each(items, function () {
        if (this.label) {
            // create LI element and append it to the parent element.
            var li = $("<li>" + this.label + "</li>");
            li.appendTo(parent);
            // if there are sub items, call the buildUL function.
            if (this.items && this.items.length > 0) {
                var ul = $("<ul class=state-"+ this.label + "></ul>");
                ul.appendTo(li);
                buildUL(ul, this.items);
            }
        }
    });
}
var ul = $("<ul></ul>");
ul.appendTo(".js-tempjson");
buildUL(ul, source);













});









</script>

<div class="js-tempjson"></div>












